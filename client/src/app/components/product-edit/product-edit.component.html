<section class="container mt-5 edit-form-container">
    <h1>Edit Product</h1>
    <div class="toast show so-toast" role="alert" aria-live="assertive" aria-atomic="true" *ngIf="message">
        <div class="toast-header">
            <strong class="mr-auto">Update Successfull!</strong>
        </div>
        <div class="toast-body">
            {{this.message}}
        </div>
    </div>
    <div *ngIf="currentProduct.id" class="edit-form">
        <form class="mt-4">
            <div class="form-group">
                <label for="title">Name</label>
                <input type="text" class="form-control" id="name" [(ngModel)]="currentProduct.name" name="name" />
            </div>

            <div class="form-group">
                <label for="published">Image URL</label>
                <input class="form-control" id="image" required [(ngModel)]="currentProduct.image" name="image" />
            </div>

            <div class="mt-2 image-container">
                <img src="{{currentProduct.image}}" class="card-img-top" alt="{{currentProduct.name}}" height="250"
                    style="object-fit: contain;" />
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea name="description" class="form-control" id="description" rows="3"
                    [(ngModel)]="currentProduct.description"></textarea>
            </div>
            <div class="form-group">
                <label for="title">Price</label>
                <input type="text" class="form-control" id="price" [(ngModel)]="currentProduct.price" name="price" />
            </div>
            <div class="form-group">
                <label for="title">Quantity</label>
                <input type="text" class="form-control" id="quantity" [(ngModel)]="currentProduct.qty"
                    name="quantity" />
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <select class="form-control" [(ngModel)]="currentProduct.category" name="category">
                    <option *ngFor="let category of categories" [value]="category.name">
                        {{ category.name }}
                    </option>
                </select>
            </div>
        </form>

        <button class="btn btn-danger btn-block" (click)="deleteProduct()">
            Delete
        </button>

        <button type="submit" class="btn btn-success btn-block" (click)="updateProduct()">
            Update
        </button>
    </div>

    <div *ngIf="!currentProduct.id">
        <br />
        <p>Cannot access this Product...</p>
    </div>
</section>